{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Person","person","deleteFunc","name","number","type","onClick","event","preventDefault","target","id","Persons","props","filtered","data","filter","element","toUpperCase","search","map","key","Filter","handleFilter","useState","setFilter","value","onChange","PersonForm","onSubmit","submit","newName","handleName","newNumber","handleNumber","baseUrl","axios","get","then","response","newObject","post","put","delete","Notification","message","style","width","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","persons","setPersons","setNewName","setNumber","setMessage","errmsg","setError","useEffect","personService","initialPersons","catch","error","setTimeout","newFilter","new_person","undefined","find","window","alert","confirm","i","length","returnedPerson","p","returned","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d52a8145.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person, deleteFunc }) => {\r\n    const handleButton = (event) => {\r\n        event.preventDefault()\r\n        deleteFunc(event.target.id)\r\n    }\r\n    return (\r\n        <>\r\n            <li>{person.name} {person.number} <button type=\"button\" onClick={handleButton} id={person.id} >delete</button></li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n    let filtered = [...props.data]\r\n\r\n    const filterPersons = (element) => {\r\n        const name = element.name.toUpperCase()\r\n        const number = element.number.toUpperCase()\r\n        const filter = props.filter.toUpperCase()\r\n        if ( name.search(filter) !== -1 || number.search(filter) !== -1 ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    if(props.filter !== ''){\r\n        filtered = props.data.filter(filterPersons)\r\n    }\r\n    \r\n    return (\r\n        <ul>{filtered.map(element => <Person person={element} key={element.id} deleteFunc={props.deleteFunc} />)}</ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import React, {useState} from 'react'\r\n\r\nconst Filter = ({handleFilter}) => {\r\n    const [filter, setFilter] = useState('')\r\n    const changeFilter = (event) => {\r\n        event.preventDefault()\r\n        setFilter(event.target.value)\r\n        handleFilter(event.target.value)\r\n    }\r\n    return (\r\n        <>\r\n            <p>filter shown with</p>\r\n            <input value={filter} onChange={changeFilter} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.submit}>\r\n            <div>name: <input value={props.newName} onChange={props.handleName} /></div>\r\n            <div>number: <input value={props.newNumber} onChange={props.handleNumber} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from \"axios\";\r\nconst baseUrl = \"api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject).then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const style = {\r\n        width: 300,\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div style={style} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    const style = {\r\n        width: 300,\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div style={style} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\n\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNumber] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n    const [errmsg, setError] = useState(null)\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n            .catch(error => {\r\n                setError(error.response.data.error)\r\n                setTimeout(() => {\r\n                    setError(null)\r\n                }, 5000)\r\n            })\r\n    }, [])\r\n\r\n    const handleName = (event) => {\r\n        event.preventDefault()\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumber = (event) => {\r\n        event.preventDefault()\r\n        setNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilter = (newFilter) => {\r\n        setFilter(newFilter)\r\n    }\r\n\r\n    const submit = (event) => {\r\n        event.preventDefault()\r\n        const new_person = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        if (newName === '' || newNumber === '') {\r\n            return null\r\n        }\r\n        if (persons.find(element => element.number === newNumber) !== undefined) {\r\n            window.alert(`${newNumber} is already in use`)\r\n            return null\r\n        }\r\n        if (persons.find(element => element.name === newName) !== undefined) {\r\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n                for (let i = 0; i < persons.length; i++) {\r\n                    if (newName === persons[i].name) {\r\n                        personService.update(persons[i].id, new_person)\r\n                            .then(returnedPerson => {\r\n                                setPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\r\n                                setMessage(`Updated ${newName}`)\r\n                                setTimeout(() => {\r\n                                    setMessage(null)\r\n                                }, 5000)\r\n                            })\r\n                            .catch(error => {\r\n                                setError(error.response.data.error)\r\n                                setTimeout(() => {\r\n                                    setError(null)\r\n                                }, 5000)\r\n                            })\r\n                        setNewName('')\r\n                        setNumber('')\r\n                        return null\r\n                    }\r\n                }\r\n            }\r\n            return null\r\n        }\r\n\r\n        personService.create(new_person)\r\n            .then(returned => {\r\n                setPersons(persons.concat(returned))\r\n                setMessage(`Added ${newName}`)\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 5000)\r\n            })\r\n            .catch(error => {\r\n                setError(error.response.data.error)\r\n                setTimeout(() => {\r\n                    setError(null)\r\n                }, 5000)\r\n            })\r\n        setNewName('')\r\n        setNumber('')\r\n    }\r\n\r\n    const deleteFunc = id => {\r\n        if (window.confirm(`Are you sure you want to delete?`)) {\r\n            for (let i = 0; i < persons.length; i++) {\r\n                if (id === persons[i].id) {\r\n                    personService.remove(persons[i].id)\r\n                        .then(() => {\r\n                            setPersons(persons.filter(p => p.id !== id))\r\n                            setMessage(`Deleted ${persons[i].name}`)\r\n                            setTimeout(() => {\r\n                                setMessage(null)\r\n                            }, 5000)\r\n                        })\r\n                        .catch(error => {\r\n                            setError(`Information of ${persons[i].name} has already been removed from server`)\r\n                            setTimeout(() => {\r\n                                setError(null)\r\n                            }, 5000)\r\n                        })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} />\r\n            <Error message={errmsg} />\r\n            <Filter handleFilter={handleFilter} />\r\n            <h2>add a new</h2>\r\n            <PersonForm submit={submit} newName={newName} newNumber={newNumber}\r\n                handleName={handleName}\r\n                handleNumber={handleNumber} />\r\n            <h2>Numbers</h2>\r\n            <Persons data={persons} filter={filter} deleteFunc={deleteFunc} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}
{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deleteFunc","name","number","type","onClick","event","preventDefault","target","id","Persons","props","filtered","data","filter","element","toUpperCase","search","map","key","Filter","handleFilter","useState","setFilter","value","onChange","PersonForm","onSubmit","submit","newName","handleName","newNumber","handleNumber","baseUrl","axios","get","then","response","newObject","post","put","delete","Notification","message","style","width","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","persons","setPersons","setNewName","setNumber","setMessage","useEffect","personService","initialPersons","newFilter","new_person","undefined","find","window","alert","confirm","i","length","returnedPerson","p","setTimeout","returned","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.31649bc9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({person, deleteFunc}) => {\r\n    const handleButton = (event) => {\r\n        event.preventDefault()\r\n        deleteFunc(event.target.id)\r\n    }\r\n    return (\r\n        <>\r\n            <li>{person.name} {person.number} <button type=\"button\" onClick={handleButton} id={person.name} >delete</button></li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n    let filtered = [...props.data]\r\n\r\n    const filterPersons = (element) => {\r\n        const name = element.name.toUpperCase()\r\n        const number = element.number.toUpperCase()\r\n        const filter = props.filter.toUpperCase()\r\n        if ( name.search(filter) !== -1 || number.search(filter) !== -1 ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    if(props.filter !== ''){\r\n        filtered = props.data.filter(filterPersons)\r\n    }\r\n    \r\n    return (\r\n        <ul>{filtered.map(element => <Person person={element} key={element.id} deleteFunc={props.deleteFunc} />)}</ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import React, {useState} from 'react'\r\n\r\nconst Filter = ({handleFilter}) => {\r\n    const [filter, setFilter] = useState('')\r\n    const changeFilter = (event) => {\r\n        event.preventDefault()\r\n        setFilter(event.target.value)\r\n        handleFilter(event.target.value)\r\n    }\r\n    return (\r\n        <>\r\n            <p>filter shown with</p>\r\n            <input value={filter} onChange={changeFilter} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.submit}>\r\n            <div>name: <input value={props.newName} onChange={props.handleName} /></div>\r\n            <div>number: <input value={props.newNumber} onChange={props.handleNumber} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from \"axios\";\r\nconst baseUrl = \"api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject).then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    const delStyle = {\r\n        width: 300,\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n    const addStyle = {\r\n        width: 300,\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === null){\r\n        return null\r\n    }\r\n    if (message.search('Information of') !== -1){\r\n        return(\r\n            <div style={delStyle} >\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div style={addStyle} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons ] = useState([]) \r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNumber ] = useState('')\r\n    const [ filter, setFilter ] = useState('')\r\n    const [ message, setMessage ] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n        .getAll()\r\n        .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n        })\r\n      }, [])\r\n\r\n    const handleName = (event) => {\r\n        event.preventDefault()\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumber = (event) => {\r\n        event.preventDefault()\r\n        setNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilter = (newFilter) => {\r\n        setFilter(newFilter)\r\n    }\r\n  \r\n    const submit = (event) => {\r\n        event.preventDefault()\r\n        const new_person = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        if (newName === '' || newNumber === '' ){\r\n            return null\r\n        }\r\n        if (persons.find(element => element.number === newNumber) !== undefined){\r\n            window.alert(`${newNumber} is already added to phonebook`)\r\n            return null\r\n        }\r\n        if (persons.find(element => element.name === newName) !== undefined){\r\n            const confirm = window.confirm(\r\n                `${newName} is already added to phonebook, replace the old number with a new one?`)\r\n            if(confirm){\r\n                for (let i = 0; i < persons.length; i++){\r\n                    if (newName === persons[i].name){\r\n                        personService.update(persons[i].id, new_person)\r\n                        .then(returnedPerson => {\r\n                            setPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\r\n                            setMessage(`Updated ${newName}`)\r\n                            setTimeout(() => {\r\n                                setMessage(null)\r\n                            }, 5000)\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            setNewName('')\r\n            setNumber('')\r\n            return null\r\n        }\r\n        \r\n        personService.create(new_person)\r\n        .then(returned => {\r\n            setPersons(persons.concat(returned))\r\n            setNewName('')\r\n            setNumber('')\r\n            setMessage(`Added ${newName}`)\r\n            setTimeout(() => {\r\n                setMessage(null)\r\n            }, 5000)\r\n        })\r\n        \r\n    }\r\n\r\n    const deleteFunc = id => {\r\n        if(window.confirm(`Delete ${id}?`)){\r\n            for (let i = 0; i < persons.length; i++){\r\n                if (id === persons[i].name){\r\n                    personService.remove(persons[i].id)\r\n                    .then(() => {\r\n                        setPersons(persons.filter(p => p.name !== id))\r\n                        setMessage(`Deleted ${id}`)\r\n                        setTimeout(() => {\r\n                            setMessage(null)\r\n                        }, 5000)\r\n                    })\r\n                    .catch(error => {\r\n                        setMessage(`Information of ${id} has already been removed from server`)\r\n                        setTimeout(() => {\r\n                            setMessage(null)\r\n                        }, 5000)\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} />\r\n            <Filter handleFilter={handleFilter}/>\r\n            <h2>add a new</h2>\r\n            <PersonForm submit={submit} newName={newName} newNumber={newNumber} \r\n            handleName={handleName} \r\n            handleNumber={handleNumber} />\r\n            <h2>Numbers</h2>\r\n            <Persons data={persons} filter={filter} deleteFunc={deleteFunc} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}